{"ast":null,"code":"var _jsxFileName = \"/Users/benpiekarz/Desktop/cs32/term-project-avonderg-bpiekarz-jurrutic-kku2-sgundotr/frontend/table-visualization/src/components/DeleteRow.tsx\";\nimport React from \"react\";\n/**\n * This component deals with the row deleteing functionality for each row.\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UpdateRow(props) {\n  const originalData = new Map();\n\n  for (const name of props.headerNames) {\n    originalData.set(name, props.row[name]);\n  }\n\n  const sendReq = async () => {\n    //post params for the delete post request\n    const addPostParams = {\n      tableName: props.tName,\n      deleteConditions: Object.fromEntries(originalData)\n    }; //API call to the delete endpoint\n\n    const res = await fetch(\"http://localhost:4567/delete\", {\n      method: \"post\",\n      body: JSON.stringify(addPostParams),\n      headers: {\n        \"Content-Type\": \"application/json; charset=UTF-8\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      }\n    }); // gets resp msg\n\n    let msg = await res.json();\n    console.log(msg);\n    props.loadTable(props.tName);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"td\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => sendReq(),\n      children: \"Delete Row\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_c = UpdateRow;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateRow\");","map":{"version":3,"sources":["/Users/benpiekarz/Desktop/cs32/term-project-avonderg-bpiekarz-jurrutic-kku2-sgundotr/frontend/table-visualization/src/components/DeleteRow.tsx"],"names":["React","UpdateRow","props","originalData","Map","name","headerNames","set","row","sendReq","addPostParams","tableName","tName","deleteConditions","Object","fromEntries","res","fetch","method","body","JSON","stringify","headers","msg","json","console","log","loadTable"],"mappings":";AAAA,OAAOA,KAAP,MAAgC,OAAhC;AAEA;AACA;AACA;;;AAEA,eAAe,SAASC,SAAT,CAAmBC,KAAnB,EAKZ;AACD,QAAMC,YAAiC,GAAG,IAAIC,GAAJ,EAA1C;;AAEA,OAAK,MAAMC,IAAX,IAAmBH,KAAK,CAACI,WAAzB,EAAsC;AACpCH,IAAAA,YAAY,CAACI,GAAb,CAAiBF,IAAjB,EAAuBH,KAAK,CAACM,GAAN,CAAUH,IAAV,CAAvB;AACD;;AAED,QAAMI,OAAO,GAAG,YAAY;AAC1B;AACA,UAAMC,aAAa,GAAG;AACpBC,MAAAA,SAAS,EAAET,KAAK,CAACU,KADG;AAEpBC,MAAAA,gBAAgB,EAAEC,MAAM,CAACC,WAAP,CAAmBZ,YAAnB;AAFE,KAAtB,CAF0B,CAO1B;;AACA,UAAMa,GAAa,GAAG,MAAMC,KAAK,CAAC,8BAAD,EAAiC;AAChEC,MAAAA,MAAM,EAAE,MADwD;AAEhEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,aAAf,CAF0D;AAGhEY,MAAAA,OAAO,EAAE;AACP,wBAAgB,iCADT;AAEP,uCAA+B;AAFxB;AAHuD,KAAjC,CAAjC,CAR0B,CAiB1B;;AACA,QAAIC,GAAW,GAAG,MAAMP,GAAG,CAACQ,IAAJ,EAAxB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AAEArB,IAAAA,KAAK,CAACyB,SAAN,CAAgBzB,KAAK,CAACU,KAAtB;AACD,GAtBD;;AAuBA,sBACE;AAAA,2BACE;AAAQ,MAAA,OAAO,EAAE,MAAMH,OAAO,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;KAxCuBR,S","sourcesContent":["import React, { useState } from \"react\";\n\n/**\n * This component deals with the row deleteing functionality for each row.\n */\n\nexport default function UpdateRow(props: {\n  tName: string;\n  headerNames: string[];\n  row: Record<string, string>;\n  loadTable: Function;\n}) {\n  const originalData: Map<string, string> = new Map();\n\n  for (const name of props.headerNames) {\n    originalData.set(name, props.row[name]);\n  }\n\n  const sendReq = async () => {\n    //post params for the delete post request\n    const addPostParams = {\n      tableName: props.tName,\n      deleteConditions: Object.fromEntries(originalData),\n    };\n\n    //API call to the delete endpoint\n    const res: Response = await fetch(\"http://localhost:4567/delete\", {\n      method: \"post\",\n      body: JSON.stringify(addPostParams),\n      headers: {\n        \"Content-Type\": \"application/json; charset=UTF-8\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n    });\n\n    // gets resp msg\n    let msg: string = await res.json();\n    console.log(msg);\n\n    props.loadTable(props.tName);\n  };\n  return (\n    <td>\n      <button onClick={() => sendReq()}>Delete Row</button>\n    </td>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}